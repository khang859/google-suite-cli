---
phase: 01-foundation
plan: 01
type: execute
depends_on: []
files_modified: [go.mod, go.sum, main.go, cmd/root.go, cmd/version.go]
---

<objective>
Set up Go project structure with CLI framework foundation.

Purpose: Establish the project skeleton that all subsequent features build upon.
Output: Working CLI binary with root and version commands.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

**Tech decisions:**
- Go modules for dependency management
- Cobra for CLI framework (industry standard, good subcommand support)
- Standard Go project layout (cmd/ for CLI commands)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Go module and install dependencies</name>
  <files>go.mod, go.sum</files>
  <action>
    Initialize Go module with `go mod init github.com/khang/google-suite-cli` (or appropriate module path).
    Install Cobra: `go get github.com/spf13/cobra@latest`
    Run `go mod tidy` to clean up.
  </action>
  <verify>go.mod exists with module declaration and cobra dependency, `go mod verify` passes</verify>
  <done>go.mod has module path and cobra dependency, go.sum has checksums</done>
</task>

<task type="auto">
  <name>Task 2: Create main.go and root command</name>
  <files>main.go, cmd/root.go</files>
  <action>
    Create main.go that calls cmd.Execute().
    Create cmd/root.go with:
    - Root command "gsuite" with short description "Gmail CLI tool"
    - Long description explaining service account auth for Gmail management
    - Execute() function that runs rootCmd.Execute()
    - Persistent flags placeholder (--verbose, -v for future use)

    Use standard Cobra patterns from documentation. Do NOT use cobra-cli generator - write manually for clean code.
  </action>
  <verify>`go build -o gsuite .` succeeds, `./gsuite` prints help text, `./gsuite --help` shows usage</verify>
  <done>Binary builds without errors, running with no args shows help, --help flag works</done>
</task>

<task type="auto">
  <name>Task 3: Add version command</name>
  <files>cmd/version.go</files>
  <action>
    Create cmd/version.go with version subcommand.
    Output format: "gsuite version X.Y.Z" (hardcode 0.1.0 for now).
    Register with rootCmd.AddCommand(versionCmd) in init().

    Keep it simple - just prints version string. No build metadata for now.
  </action>
  <verify>`./gsuite version` outputs "gsuite version 0.1.0"</verify>
  <done>Version command exists and prints version string</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `go build -o gsuite .` succeeds with no errors
- [ ] `./gsuite` shows help text
- [ ] `./gsuite --help` shows usage with description
- [ ] `./gsuite version` outputs version string
- [ ] No Go linting errors (`go vet ./...` passes)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Clean Go code with no errors or warnings
- CLI binary works with help and version commands
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
