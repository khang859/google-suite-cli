# Milestone v1.0: MVP

**Status:** SHIPPED 2026-02-05
**Phases:** 1-4
**Total Plans:** 11

## Overview

Build a Go CLI for complete Gmail mailbox management via service account authentication. Start with project foundation and auth, then implement read operations (list, search, threads), followed by write operations (send, drafts, delete), finishing with polish (attachments, formatting).

## Phases

### Phase 1: Foundation

**Goal**: Working CLI skeleton with authenticated Gmail API connection
**Depends on**: Nothing (first phase)
**Plans**: 3 plans

Plans:
- [x] 01-01: Project structure, Go modules, CLI framework setup
- [x] 01-02: Service account authentication with flexible credential handling
- [x] 01-03: Basic Gmail API connection verification (whoami command)

**Details:**
- Go modules with Cobra CLI framework
- Auth package: service account JWT, domain-wide delegation
- Credential loading: GOOGLE_CREDENTIALS env var (JSON content), GOOGLE_CREDENTIALS_FILE env var, or --credentials-file flag
- whoami command for API connection verification
- README and .env.example documentation

### Phase 2: Core Read Operations

**Goal**: Complete read-only Gmail access (list, get, search, labels, threads)
**Depends on**: Phase 1
**Plans**: 3 plans

Plans:
- [x] 02-01: Messages list and get commands
- [x] 02-02: Search and labels list commands
- [x] 02-03: Threads list and get commands

**Details:**
- Messages list with pagination, label filtering, query support
- Messages get with full header display and body decoding
- Search command with Gmail query syntax
- Labels list command
- Threads list/get with full conversation display
- Base64url body decoding with text/plain preference
- Header extraction (From, To, Date, Subject)

### Phase 3: Write Operations

**Goal**: Full write capabilities (send, drafts, labels CRUD, delete)
**Depends on**: Phase 2
**Plans**: 3 plans

Plans:
- [x] 03-01: Send message command
- [x] 03-02: Draft create/update/send/delete commands
- [x] 03-03: Labels create/update/delete and message label operations

**Details:**
- Send command with --to, --subject, --body, --cc, --bcc flags
- Drafts CRUD: create, update, send, delete, list, get
- Labels CRUD: create (with visibility options), update, delete
- System label protection (INBOX, SENT, etc. cannot be modified)
- Messages modify for adding/removing labels

### Phase 4: Polish

**Goal**: Production-ready CLI with attachments, formatting, and robust error handling
**Depends on**: Phase 3
**Plans**: 2 plans

Plans:
- [x] 04-01: Attachment download and send-with-attachment
- [x] 04-02: Output formatting (human-readable and JSON modes)

**Details:**
- Attachment display in messages get output
- Attachment download to file
- --attach flag on send command for file attachments
- --format/-f persistent flag (text default, json option)
- outputJSON() helper for consistent marshaling
- snake_case JSON keys across all commands
- Empty collections serialize as [] not null

---

## Milestone Summary

**Key Decisions:**
- Go over TypeScript/Python (single binary distribution, fast startup)
- Cobra CLI framework (industry standard, good subcommand support)
- Support both env var and file auth (flexibility for different deployments)
- Gmail-first scope (focused v1, expand later)
- GmailModifyScope for full read/write access
- text/plain preference over HTML for message body display
- Local struct types for JSON output (co-located with producing code)
- snake_case JSON keys (standard convention)

**Issues Resolved:**
- None encountered â€” clean execution across all phases

**Issues Deferred:**
- None

**Technical Debt Incurred:**
- None identified

---

_For current project status, see .planning/ROADMAP.md_
